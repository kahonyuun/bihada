<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>highchart.js</title>
		<script type="text/javascript" src="jquery.min.js"></script>
		<script src="highcharts.js"></script>
		<script src="exporting.js"></script>
		<style type="text/css">
			/*
			 * スマートフォンでタッチスクロールしたいので、
			 * 画面全体にdivをかぶせて、chartにイベントが送出されないようにする　
			 */
			#chart-drag-handle {
				position: absolute;
				height: 100%;
				width: 100%;
				top: 0;
				z-index: 10;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript">

			function chart() {
				//var chart;
				//var i;
				var chart_data = ID;
				//for ( i = 0; i < chart_data.length; i++) {
					//alert(chart_data[i])
			//	};
			};
		//けす
		var chart;
		var i;			
		//var chart_data = [1,2,7,2,3,5,4,3,5,3,4,4,3,4,5,4,3,2];
		for(i=0; i<chart_data.length; i++){
		//alert(chart_data[i])
		};
		
		//睡眠時間
		//DBからminuteをselect⇒変数に格納⇒htmlファイルの配列に渡す cp from out.js
	/*たぶんつかわない
	function get_min() {
		var db = Ti.Database.open('db');
		var rows = db.execute('select rowid from date_test order by rowid desc limit 1');
		var target_rowid = rows.fieldByName('rowid');

		//TODO :sleep_timeをselectして変数にいれる
		var sleep = db.execute('select sleep_time,* from date_test1');
		//Ti.API.info('row count = ' + rows.getRowCount());
		Ti.API.info('睡眠時間 : ' + sleep);

		//id自体には何も入っておらず、rowidが連番になっていく
		while (rows.isValidRow()) {
			
			Ti.API.info('id:'+rows.fieldByName('rowid')+' IN_TIME:'+ rows.fieldByName('in_time')+'　OUT_TIME:'+ rows.fieldByName('out_time')+' 睡眠時間:'+rows.fieldByName('sleep_time'))
			rows.next();
		}
		rows.closed
		db.close();
		//db.remove();
	};
*/
		
			//柳田神
			function viewChart(title){
				Ti.API.info(TITLE);
				alert(TITLE);
				Ti.API.info(TITLE2);
				alert(TITLE2);
			};
			
			$(document).ready(function() {
				chart = new Highcharts.Chart({
					chart : {
						renderTo : 'container',
						defaultSeriesType : 'bar'
					},
					title : {
						text : '睡眠時間チャート'
					},
					subtitle : {
						text : 'にゃんにゃん'
					},
					xAxis : {
						categories : ['2/1', '2/2'],//
						title : {
							text : null
						}
					},
					yAxis : {
						min : 0,
						title : {
							text : '時間(Hour)',
							align : 'high'
						}
					},
					//マウスカーソルを当てた時にデータ表示
					tooltip : {
						formatter : function() {
							return '' + this.series.name + ': ' + this.y + ' millions';
						}
					},
					//グラフエリアの表示のオプション
					plotOptions : {
						bar : {
							dataLabels : {
								enabled : true
							}
						}
					},
					//凡例を表示させたい場合に指定
					legend : {
						layout : 'vertical',
						align : 'right',
						verticalAlign : 'top',
						x : -100,
						y : 100,
						floating : true,
						borderWidth : 1,
						backgroundColor : '#FFFFFF',
						shadow : true
					},
					credits : {
						enabled : false
					},
					series : [{
						//青
						name : '総合睡眠時間',
						//chart_data[1]はなんで0なんだろー
						data : chart_data//get_min()
					}]
				});
			});


		</script>
		<div id="container" style="width: 300px; height: 200px; margin: 0 auto"></div>
		<!--<div id="chart-drag-handle"></div>
		<div id="container" style="min-width: 400px; height: 400px; margin: 0"></div>-->
	</body>
</html>